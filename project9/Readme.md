## Project 11 Multiple Terminal

主要是要处理显示器和键盘，以及进程带有终端独立属性。

页面的存储位置：从0xB800开始有16Kb的位置用于页面显示缓存，共4页，每页4Kb，故可以使用三个终端（偷懒）。

键盘：只有当前正在显示的终端及其进程可以读取键盘。
    
> 解决方法是在int 16h中断添加键盘缓存区（队列），主要针对int 16h的0和1号功能。
> 0号功能是读键盘，首先将读到的字符放进缓存区里面，然后根据页面号决定是否取出，否的话则是返回到进入int的上一条指令。
> 1号功能是输入探测，学会改变标志寄存器。
> 文档里面给的有问题。

显示：相应的进程要把东西打印到对应的终端页面缓存里面，然后根据终端号显示（memcpy）。

> 中断可以指定页码。

切换终端按钮设计：CTRL+上下，在int 9h里面实现，而将页面复制到页面0在时钟中断中完成。

如何修改：

> 封装函数，而不是改接口。

### Traps
1. 注意页面缓存的位置是0xb800:0x0等等，页面1在0xb9000。
2. 全部输出函数重写
3. 清屏不能调用中断了，滚屏也是
4. 很多直接写屏幕的废了
5. 如何修改标志寄存器？
6. 有毒。